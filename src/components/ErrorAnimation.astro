---
/**
 * ErrorAnimation - Rive animation for error pages (404, 500, etc.)
 * Displays an animated illustration for error states
 */
import RiveAnimation from "./RiveAnimation.astro";

interface Props {
  riveSrc?: string;
  errorCode?: string;
  className?: string;
}

const { 
  riveSrc = "",
  errorCode = "",
  className = ""
} = Astro.props;
---

<div class={`error-animation ${className}`}>
  {riveSrc ? (
    <RiveAnimation 
      src={riveSrc}
      className="error-animation-rive"
      autoplay={true}
    />
  ) : (
    <!-- Fallback SVG when Rive file is not provided -->
    <div class="error-animation-fallback">
      <svg
        class="w-24 h-24 mx-auto text-gray-300"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="1.5"
          d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
    </div>
  )}
</div>

<style>
  .error-animation {
    width: 200px;
    height: 200px;
    margin: 0 auto 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .error-animation-rive {
    width: 100%;
    height: 100%;
    min-height: 200px;
  }

  .error-animation-fallback {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @media (max-width: 768px) {
    .error-animation {
      width: 150px;
      height: 150px;
    }

    .error-animation-rive {
      min-height: 150px;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .error-animation {
      animation: none;
    }
  }
</style>
