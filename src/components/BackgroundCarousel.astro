---
// BackgroundCarousel.astro - Elegant horizontal scrolling background image carousel
// Displays 8 images with subtle opacity as a decorative background element
// Optimized for performance with lazy loading
---

<div class="background-carousel-wrapper">
    <div class="background-carousel">
        <div class="carousel-track">
            <!-- First set of images - lazy loaded, low priority -->
            <img
                src="/images/IMG_2580.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_2948.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_3623.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_3843.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_4550.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_4551.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_5241.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_5394.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />

            <!-- Duplicate set for seamless loop -->
            <img
                src="/images/IMG_2580.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_2948.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_3623.jpeg"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_3843.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_4550.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_4551.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_5241.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
            <img
                src="/images/IMG_5394.JPG"
                alt=""
                loading="lazy"
                fetchpriority="low"
                decoding="async"
            />
        </div>
    </div>
    <!-- Fade overlay for elegant edges -->
    <div class="fade-overlay"></div>
</div>

<style>
    .background-carousel-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 40vh;
        overflow: hidden;
        z-index: -1;
        pointer-events: none;
        /* Performance optimization */
        content-visibility: auto;
        contain-intrinsic-size: 100% 40vh;
        contain: strict;
    }

    .background-carousel {
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    .carousel-track {
        display: flex;
        height: 100%;
        width: max-content;
        /* GPU-accelerated animation using transform3d */
        animation: scroll 60s linear infinite;
        will-change: transform;
        transform: translateZ(0);
        backface-visibility: hidden;
    }

    .carousel-track img {
        height: 100%;
        width: auto;
        object-fit: cover;
        object-position: center center;
        opacity: 0.35;
        filter: grayscale(20%);
        display: block;
    }

    /* Fade overlay - only at the bottom for smooth transition */
    .fade-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 50%;
        background: linear-gradient(
            to bottom,
            transparent 0%,
            rgba(255, 255, 255, 0.6) 60%,
            #ffffff 100%
        );
        pointer-events: none;
    }

    @keyframes scroll {
        0% {
            transform: translate3d(0, 0, 0);
        }
        100% {
            transform: translate3d(-50%, 0, 0);
        }
    }

    /* Pause animation on reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        .carousel-track {
            animation: none;
        }
    }

    /* Mobile: larger display area */
    @media (max-width: 768px) {
        .background-carousel-wrapper {
            height: 50vh;
            contain-intrinsic-size: 100% 50vh;
        }
        .carousel-track img {
            opacity: 0.25;
            object-fit: cover;
            object-position: center center;
        }
    }
</style>
