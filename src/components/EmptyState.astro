---
/**
 * EmptyState - Rive animation for empty states
 * Displays an animated illustration when content is not available
 */
import RiveAnimation from "./RiveAnimation.astro";

interface Props {
  title: string;
  description: string;
  riveSrc?: string;
  className?: string;
}

const { 
  title, 
  description, 
  riveSrc = "", 
  className = "" 
} = Astro.props;
---

<div class={`empty-state ${className}`}>
  <div class="empty-state-animation">
    {riveSrc ? (
      <RiveAnimation 
        src={riveSrc}
        className="empty-state-rive"
        autoplay={true}
      />
    ) : (
      <!-- Fallback SVG when Rive file is not provided -->
      <div class="empty-state-fallback">
        <svg
          class="w-16 h-16 mx-auto text-gray-300"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"
          />
        </svg>
      </div>
    )}
  </div>
  <p class="empty-state-title">{title}</p>
  <p class="empty-state-description">{description}</p>
</div>

<style>
  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .empty-state-animation {
    width: 120px;
    height: 120px;
    margin: 0 auto 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .empty-state-rive {
    width: 100%;
    height: 100%;
    min-height: 120px;
  }

  .empty-state-fallback {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .empty-state-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #111827;
    margin-bottom: 0.5rem;
  }

  .empty-state-description {
    font-size: 0.875rem;
    color: #6b7280;
    max-width: 400px;
    margin: 0 auto;
  }

  @media (prefers-reduced-motion: reduce) {
    .empty-state-animation {
      animation: none;
    }
  }
</style>
